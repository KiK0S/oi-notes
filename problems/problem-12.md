---
layout: page
title: "12. Бусинки"
permalink: /dsa-notes/problems/problem-12/
lang: ru
contest: bp2025-dfs1
problem_code: L
problem_id: 12
---

## Задача

По заданному дереву найдите максимальную длину простой цепочки, образованной соединёнными бусинками.

### Входные данные

В первой строке дано число $N$ ($1 \leqslant N \leqslant 5 \cdot 10^5$) — количество бусинок. В следующих $N-1$ строках указаны пары чисел — соединённые бусинки.

### Выходные данные

Выведите длину самой длинной последовательности последовательно соединённых бусинок.

### Примеры

```
стандартный ввод      стандартный вывод
2                      2
1 2

5                      3
2 1
2 3
2 4
2 5
```

### Ограничения

- Время: 2 секунды
- Память: 256 мегабайт

<details class="dsa-toggle">
<summary>Редакционный разбор</summary>

Рассматриваем граф как дерево. Самая длинная цепочка — это диаметр дерева, длина наибольшего кратчайшего пути. Находим его двойным BFS/DFS: запускаем обход из произвольной вершины, находим самую дальнюю $v$, затем запускаем второй обход из $v$ и берём максимум расстояний. Он и будет ответом.

Когда $N = 1$, диаметр равен $1$ по условию (одна бусинка). В реализации достаточно обработать этот случай отдельно или позволить алгоритму вернуть $0$ рёбер и добавить $1$.

Оба обхода работают за $O(N)$ и укладываются по памяти.

</details>
### Mentioned by

<!-- dsa-mentioned-by:start -->
- [DFS1 — параллель B'](/dsa-notes/bp2025/contests/dfs1/){: .dsa-mention } — L: 12. Бусинки
- [Каталог задач](/dsa-notes/problems/){: .dsa-mention } — L: 12. Бусинки
<!-- dsa-mentioned-by:end -->

